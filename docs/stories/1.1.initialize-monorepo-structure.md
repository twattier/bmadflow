# Story 1.1: Initialize Monorepo Structure

## Status

Draft

## Story

**As a** developer,
**I want** a well-structured monorepo with frontend and backend directories, code quality tools, and documentation,
**so that** I have a clean foundation to build BMADFlow with consistent code standards and clear setup instructions.

## Acceptance Criteria

1. **Monorepo Structure Created**:
   - [ ] Root directory contains `backend/` and `frontend/` directories
   - [ ] Root `.gitignore` configured for Python, Node.js, Docker, and IDEs
   - [ ] Root `README.md` provides project overview and setup instructions

2. **Backend Initialization**:
   - [ ] `backend/requirements.txt` with FastAPI, SQLAlchemy, Alembic, uvicorn
   - [ ] `backend/requirements-dev.txt` with pytest, black, ruff, pytest-cov
   - [ ] `backend/pyproject.toml` configures Black (line-length=100) and Ruff
   - [ ] `backend/pytest.ini` configures pytest with async support
   - [ ] `backend/app/` directory with `__init__.py` (placeholder structure)

3. **Frontend Initialization**:
   - [ ] `frontend/package.json` with React 18+, TypeScript 5.x+, Vite 5.x+
   - [ ] `frontend/tsconfig.json` with strict mode and path alias `@` → `./src`
   - [ ] `frontend/.eslintrc.json` and `frontend/.prettierrc` configured
   - [ ] `frontend/vite.config.ts` with path alias configuration
   - [ ] `frontend/src/` directory with placeholder `main.tsx` and `App.tsx`

4. **Code Quality Verification**:
   - [ ] Backend: `black --check backend/` and `ruff check backend/` pass
   - [ ] Frontend: `npm run lint` passes (after ESLint setup)
   - [ ] No linting errors in codebase

5. **Documentation**:
   - [ ] Root `README.md` includes:
     - Project overview
     - Prerequisites (Docker, Python 3.11+, Node.js 18+, Ollama)
     - Backend setup instructions
     - Frontend setup instructions
     - Links to `docs/` for detailed architecture

## Tasks / Subtasks

- [ ] **Task 1: Create Root Monorepo Structure** (AC: 1)
  - [ ] Create `backend/` and `frontend/` directories
  - [ ] Create root `.gitignore` with Python, Node, Docker, IDE patterns
  - [ ] Create root `README.md` with project overview section

- [ ] **Task 2: Initialize Backend Directory** (AC: 2)
  - [ ] Create `backend/requirements.txt` with core dependencies:
    - FastAPI 0.110+
    - SQLAlchemy 2.x+
    - Alembic (latest)
    - uvicorn (latest)
    - asyncpg (latest)
    - pydantic 2.x+
    - python-dotenv
  - [ ] Create `backend/requirements-dev.txt` with dev dependencies:
    - pytest (latest)
    - pytest-cov (latest)
    - pytest-asyncio (latest)
    - black (latest)
    - ruff (latest)
    - httpx (for testing)
  - [ ] Create `backend/pyproject.toml` with Black and Ruff configuration
  - [ ] Create `backend/pytest.ini` with pytest configuration
  - [ ] Create `backend/app/__init__.py` as placeholder

- [ ] **Task 3: Initialize Frontend Directory** (AC: 3)
  - [ ] Run `npm create vite@latest frontend -- --template react-ts`
  - [ ] Install ESLint and Prettier dependencies
  - [ ] Create `frontend/.eslintrc.json` with React/TypeScript rules
  - [ ] Create `frontend/.prettierrc` with formatting rules (semi: true, singleQuote: true, printWidth: 100)
  - [ ] Configure `frontend/vite.config.ts` with path alias `@` → `./src`
  - [ ] Update `frontend/tsconfig.json` with path alias matching Vite config

- [ ] **Task 4: Verify Code Quality Tools** (AC: 4)
  - [ ] Install backend dev dependencies: `cd backend && pip install -r requirements-dev.txt`
  - [ ] Run Black check: `black --check backend/`
  - [ ] Run Ruff check: `ruff check backend/`
  - [ ] Install frontend dependencies: `cd frontend && npm install`
  - [ ] Run ESLint: `npm run lint`
  - [ ] Fix any linting errors

- [ ] **Task 5: Complete Root README Documentation** (AC: 5)
  - [ ] Add project overview and goals
  - [ ] Document prerequisites (Docker Desktop, Python 3.11+, Node.js 18+, Ollama)
  - [ ] Add backend setup section (virtual env, install deps, verify Black/Ruff)
  - [ ] Add frontend setup section (install deps, verify ESLint/Prettier)
  - [ ] Link to `docs/` for architecture and detailed documentation

## Dev Notes

### Previous Story Insights

No previous story - this is the first story in the project.

### Project Structure

This story creates the initial monorepo structure per [Source Tree](../architecture/source-tree.md):

```
bmadflow/
├── backend/          # Python FastAPI application
│   ├── app/
│   ├── requirements.txt
│   ├── requirements-dev.txt
│   ├── pyproject.toml
│   └── pytest.ini
├── frontend/         # React TypeScript application
│   ├── src/
│   ├── package.json
│   ├── tsconfig.json
│   ├── vite.config.ts
│   ├── .eslintrc.json
│   └── .prettierrc
├── .gitignore
└── README.md
```

[Source: architecture/source-tree.md#root-level]

### Technology Stack

**Backend**:
- Python 3.11+
- FastAPI 0.110+ (REST API framework with auto OpenAPI docs)
- SQLAlchemy 2.x+ (ORM with async support)
- Alembic (database migrations)
- uvicorn (ASGI server)
- pytest + pytest-cov (testing with 70%+ coverage target)
- Black + Ruff (code formatting and linting)

[Source: architecture/tech-stack.md#backend-section]

**Frontend**:
- TypeScript 5.x+ (type-safe development)
- React 18+ (UI framework)
- Vite 5.x+ (build tool with fast HMR)
- ESLint + Prettier (code quality)

[Source: architecture/tech-stack.md#frontend-section]

### Coding Standards

**Python Configuration** (pyproject.toml):
```toml
[tool.black]
line-length = 100
target-version = ['py311']

[tool.ruff]
line-length = 100
target-version = "py311"
select = ["E", "F", "I", "N", "W"]
ignore = ["E501"]  # Line length handled by Black
```

[Source: architecture/coding-standards.md#python-code-formatting]

**TypeScript Configuration** (.prettierrc):
```json
{
  "semi": true,
  "singleQuote": true,
  "trailingComma": "es5",
  "printWidth": 100
}
```

[Source: architecture/coding-standards.md#typescript-code-formatting]

**File Naming Conventions**:
- Backend modules: `snake_case.py`
- Frontend components: `PascalCase.tsx`
- Configuration files: Standard names (package.json, tsconfig.json, pyproject.toml)

[Source: architecture/source-tree.md#file-naming-conventions]

### Git Ignore Patterns

Required `.gitignore` patterns:
```gitignore
# Environment
.env
.env.local

# Python
__pycache__/
*.py[cod]
*$py.class
.pytest_cache/
.coverage
htmlcov/
venv/
.venv/

# Node
node_modules/
dist/
.vite/
coverage/

# IDEs
.vscode/
.idea/
*.swp
*.swo

# Docker
volumes/

# OS
.DS_Store
Thumbs.db

# Logs
*.log
```

[Source: architecture/source-tree.md#version-control-gitignore]

### Import Path Conventions

**Frontend Vite Alias** (vite.config.ts):
```ts
export default defineConfig({
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
});
```

**Frontend TypeScript Alias** (tsconfig.json):
```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

[Source: architecture/source-tree.md#import-path-conventions]

### Testing

#### Testing Standards

**Backend Testing**:
- Use pytest for unit and integration tests
- Target 70%+ code coverage (NFR18)
- Test location: `backend/tests/`
- Fixtures in `conftest.py`
- Separate `unit/` and `integration/` directories

[Source: architecture/testing-strategy.md#backend-testing]

**Frontend Testing**:
- Use React Testing Library for component tests
- Target 60%+ component coverage
- Test location: `frontend/tests/`
- E2E tests with Playwright in `frontend/tests/e2e/`

[Source: architecture/testing-strategy.md#frontend-testing]

**Test Configuration** (pytest.ini):
```ini
[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
asyncio_mode = auto
```

[Source: architecture/testing-strategy.md#test-fixtures-conftest-py]

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-06 | 1.0 | Initial story draft created | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

_To be filled by Dev Agent_

### Debug Log References

_To be filled by Dev Agent_

### Completion Notes

_To be filled by Dev Agent_

### File List

_To be filled by Dev Agent_

## QA Results

_To be filled by QA Agent_
